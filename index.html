<html>
<head>
<title>Pesquisa sobre Covid-19</title>
</head>
  
<style>
  body { margin: 20px auto; }
</style>
  
<body>
  <h1>Questionário</h1>

  <h2>Pergunta 1</h2>
  <form id="pergunta1">
    <input type="radio" id="masculino" name="pergunta1" value="masculino">
    <label for="masculino">Masculino</label><br>
    <input type="radio" id="feminino" name="pergunta1" value="feminino">
    <label for="feminino">Feminino</label><br>
    <input type="radio" id="outro" name="pergunta1" value="outro">
    <label for="outro">Outro</label><br><br>
    <button onclick="saveAnswer('pergunta1')">Enviar</button>
  </form>

  <h2>Pergunta 2</h2>
  <form id="pergunta1">
    <input type="radio" id="idade1" name="pergunta2" value="30">
    <label for="idade1">0 - 30</label><br>
    <input type="radio" id="idade2" name="pergunta2" value="60">
    <label for="idade2">31 - 60</label><br>  
    <input type="radio" id="idade3" name="pergunta2" value="100">
    <label for="idade3">61 - 100</label><br><br>
    <button onclick="saveAnswer('pergunta2')">Enviar</button>
  </form>
  
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyCDoF7uuat1KKsxidYXieg1r_B5ql9yLx4",
    authDomain: "covid-survey-7a0c6.firebaseapp.com",
    databaseURL: "https://covid-survey-7a0c6.firebaseio.com",
    projectId: "covid-survey-7a0c6",
    storageBucket: "covid-survey-7a0c6.appspot.com",
    messagingSenderId: "216921647928",
    appId: "1:216921647928:web:a2ef9d08c002050379efcd"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
</script>

<script>

function saveAnswer(question) {
  
  var answer = document.querySelector('input[name="' + question + '"]:checked').value;
  
  if(!answer) {
    alert("Selecione uma opção.");
    return false;
  }
  
  var answerObject = {
    question: question,
    answer: answer
  };
  
  firebase.database.ref('enio').push.set(answerObject)
    .then(function(snapshot) {
      alert('Sucesso!');
  }, function(error) {
    alert(error);
  });
}
</script>
</body>
</html>
